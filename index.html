<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>你的ENTER键价值千亿</title>
  <meta name="author" content="JosephGK">
  
  <meta name="description" content="gekun,葛坤">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="你的ENTER键价值千亿">

  
    <meta property="og:image" content="">
  

  <link href="/Blog/favicon.png" rel="icon">
  <link rel="alternate" href="/Blog/atom.xml" title="你的ENTER键价值千亿" type="application/atom+xml">
  <link rel="stylesheet" href="/Blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>
</html>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/Blog/">你的ENTER键价值千亿</a></h1>
  <h2><a href="/Blog/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/Blog/">主页</a></li>
    
      <li><a href="/Blog/archives">文档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-12T16:00:00.000Z"><a href="/Blog/2018/12/13/循环标签/">2018-12-13</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/13/循环标签/">循环标签</a></h1>
  

    </header>
    <div class="entry">
      
        <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">normalContinue</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"------------非标签continue----------"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">"外层循环"</span> + i);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(j==<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"内部循环"</span> + j);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"*************"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"------------非标签continue----------"</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">normalBreak</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"------------非标签break----------"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">"外层循环"</span> + i);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(j==<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"内部循环"</span> + j);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"*************"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"------------非标签break----------"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//使用continue outer跳出内层循环的时候，外层循环后面的语句也不会执行</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">labelContinue</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"------------标签continue----------"</span>);</span><br><span class="line">		outer:</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">"外层循环"</span> + i);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(j==<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">continue</span> outer;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"内部循环"</span> + j);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"*************"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"------------标签continue----------"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//break+标签 直接把内外层循环一起break</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">labelBreak</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"------------标签break----------"</span>);</span><br><span class="line">		outer:</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">"外层循环"</span> + i);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(j==<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">break</span> outer;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"内部循环"</span> + j);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"*************"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"------------标签break----------"</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-11T16:00:00.000Z"><a href="/Blog/2018/12/12/ftp工具类/">2018-12-12</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/12/ftp工具类/">ftp工具类</a></h1>
  

    </header>
    <div class="entry">
      
        <pre><code>public class FtpCli {
    private static final String DEFAULT_CHARSET = &quot;UTF-8&quot;;
    private static final int DEFAULT_TIMEOUT = 60 * 1000;
    private static final String DAILY_FILE_PATH = &quot;dailyFilePath&quot;;
    private final String host;
    private final int port;
    private final String username;
    private final String password;
    private FTPClient ftpClient;
    private volatile String ftpBasePath;

private FtpCli(String host, String username, String password) {
    this(host, 21, username, password, DEFAULT_CHARSET);
    setTimeout(DEFAULT_TIMEOUT, DEFAULT_TIMEOUT, DEFAULT_TIMEOUT);
}

private FtpCli(String host, int port, String username, String password, String charset) {
    ftpClient = new FTPClient();
    ftpClient.setControlEncoding(charset);
    this.host = StringUtils.isEmpty(host) ? &quot;localhost&quot; : host;
    this.port = (port &lt;= 0) ? 21 : port;
    this.username = StringUtils.isEmpty(username) ? &quot;anonymous&quot; : username;
    this.password = password;
}

/**
 * 创建默认的ftp客户端
 * @param host     主机名或者ip地址
 * @param username ftp用户名
 * @param password ftp密码
 */
public static FtpCli createFtpCli(String host, String username, String password) {
    return new FtpCli(host, username, password);
}

/**
 * 创建自定义属性的ftp客户端
 * @param host     主机名或者ip地址
 * @param port     ftp端口
 * @param username ftp用户名
 * @param password ftp密码
 * @param charset  字符集
 */
public static FtpCli createFtpCli(String host, int port, String username, String password, String charset) {
    return new FtpCli(host, port, username, password, charset);
}

/**
 * 设置超时时间
 * @param defaultTimeout 超时时间
 * @param connectTimeout 超时时间
 * @param dataTimeout    超时时间
 */
public void setTimeout(int defaultTimeout, int connectTimeout, int dataTimeout) {
    ftpClient.setDefaultTimeout(defaultTimeout);
    ftpClient.setConnectTimeout(connectTimeout);
    ftpClient.setDataTimeout(dataTimeout);
}

/**
 * 连接到ftp
 */
public void connect() throws IOException {
    try {
        ftpClient.connect(host, port);
    } catch (UnknownHostException e) {
        throw new IOException(&quot;Can&apos;t find FTP server :&quot; + host);
    }

    int reply = ftpClient.getReplyCode();
    if (!FTPReply.isPositiveCompletion(reply)) {
        disconnect();
        throw new IOException(&quot;Can&apos;t connect to server :&quot; + host);
    }

    if (!ftpClient.login(username, password)) {
        disconnect();
        throw new IOException(&quot;Can&apos;t login to server :&quot; + host);
    }

    // set data transfer mode.
    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);

    // Use passive mode to pass firewalls.
    ftpClient.enterLocalPassiveMode();

    initFtpBasePath();
}

/**
 * 连接ftp时保存刚登陆ftp时的路径
 */
private void initFtpBasePath() throws IOException {
    if (StringUtils.isEmpty(ftpBasePath)) {
        synchronized (this) {
            if (StringUtils.isEmpty(ftpBasePath)) {
                ftpBasePath = ftpClient.printWorkingDirectory();
            }
        }
    }
}

/**
 * ftp是否处于连接状态，是连接状态返回&lt;tt&gt;true&lt;/tt&gt;
 * @return boolean  是连接状态返回&lt;tt&gt;true&lt;/tt&gt;
 */
public boolean isConnected() {
    return ftpClient.isConnected();
}

/**
 * 上传文件到对应日期文件下，
 * 如当前时间是2018-06-06，则上传到[ftpBasePath]/[DAILY_FILE_PATH]/2018/06/06/下
 * @param fileName    文件名
 * @param inputStream 文件输入流
 */
public String uploadFileToDailyDir(String fileName, InputStream inputStream) throws IOException {
    changeWorkingDirectory(ftpBasePath);
    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;/yyyy/MM/dd&quot;);
    String formatDatePath = dateFormat.format(new Date());
    String uploadDir = DAILY_FILE_PATH + formatDatePath;
    makeDirs(uploadDir);
    storeFile(fileName, inputStream);
    return formatDatePath + &quot;/&quot; + fileName;
}

/**
 * 根据uploadFileToDailyDir返回的路径，从ftp下载文件到指定输出流中
 * @param dailyDirFilePath 方法uploadFileToDailyDir返回的路径
 * @param outputStream     输出流
 */
public void downloadFileFromDailyDir(String dailyDirFilePath, OutputStream outputStream) throws IOException {
    changeWorkingDirectory(ftpBasePath);
    String ftpRealFilePath = dailyDirFilePath;
    ftpClient.retrieveFile(ftpRealFilePath, outputStream);
}

/**
 * 获取ftp上指定文件名到输出流中
 * @param ftpFileName 文件在ftp上的路径  如绝对路径 /home/ftpuser/123.txt 或者相对路径 123.txt
 * @param out         输出流
 */
public void retrieveFile(String ftpFileName, OutputStream out) throws IOException {
    try {
        FTPFile[] fileInfoArray = ftpClient.listFiles(ftpFileName);
        if (fileInfoArray == null || fileInfoArray.length == 0) {
            throw new FileNotFoundException(&quot;File &apos;&quot; + ftpFileName + &quot;&apos; was not found on FTP server.&quot;);
        }

        FTPFile fileInfo = fileInfoArray[0];
        if (fileInfo.getSize() &gt; Integer.MAX_VALUE) {
            throw new IOException(&quot;File &apos;&quot; + ftpFileName + &quot;&apos; is too large.&quot;);
        }

        if (!ftpClient.retrieveFile(ftpFileName, out)) {
            throw new IOException(
                    &quot;Error loading file &apos;&quot; + ftpFileName + &quot;&apos; from FTP server. Check FTP permissions and path.&quot;);
        }
        out.flush();
    } finally {
        closeStream(out);
    }
}

/**
 * 将输入流存储到指定的ftp路径下
 * @param ftpFileName 文件在ftp上的路径 如绝对路径 /home/ftpuser/123.txt 或者相对路径 123.txt
 * @param in          输入流
 */
public void storeFile(String ftpFileName, InputStream in) throws IOException {
    try {
        if (!ftpClient.storeFile(ftpFileName, in)) {
            throw new IOException(
                    &quot;Can&apos;t upload file &apos;&quot; + ftpFileName + &quot;&apos; to FTP server. Check FTP permissions and path.&quot;);
        }
    } finally {
        closeStream(in);
    }
}

/**
 * 根据文件ftp路径名称删除文件
 * @param ftpFileName 文件ftp路径名称
 */
public void deleteFile(String ftpFileName) throws IOException {
    if (!ftpClient.deleteFile(ftpFileName)) {
        throw new IOException(&quot;Can&apos;t remove file &apos;&quot; + ftpFileName + &quot;&apos; from FTP server.&quot;);
    }
}

/**
 * 上传文件到ftp
 * @param ftpFileName 上传到ftp文件路径名称
 * @param localFile   本地文件路径名称
 */
public void upload(String ftpFileName, File localFile) throws IOException {
    if (!localFile.exists()) {
        throw new IOException(&quot;Can&apos;t upload &apos;&quot; + localFile.getAbsolutePath() + &quot;&apos;. This file doesn&apos;t exist.&quot;);
    }

    InputStream in = null;
    try {
        in = new BufferedInputStream(new FileInputStream(localFile));
        if (!ftpClient.storeFile(ftpFileName, in)) {
            throw new IOException(
                    &quot;Can&apos;t upload file &apos;&quot; + ftpFileName + &quot;&apos; to FTP server. Check FTP permissions and path.&quot;);
        }
    } finally {
        closeStream(in);
    }
}

/**
 * 上传文件夹到ftp上
 * @param remotePath ftp上文件夹路径名称
 * @param localPath  本地上传的文件夹路径名称
 */
public void uploadDir(String remotePath, String localPath) throws IOException {
    localPath = localPath.replace(&quot;\\\\&quot;, &quot;/&quot;);
    File file = new File(localPath);
    if (file.exists()) {
        if (!ftpClient.changeWorkingDirectory(remotePath)) {
            ftpClient.makeDirectory(remotePath);
            ftpClient.changeWorkingDirectory(remotePath);
        }
        File[] files = file.listFiles();
        if (null != files) {
            for (File f : files) {
                if (f.isDirectory() &amp;&amp; !f.getName().equals(&quot;.&quot;) &amp;&amp; !f.getName().equals(&quot;..&quot;)) {
                    uploadDir(remotePath + &quot;/&quot; + f.getName(), f.getPath());
                } else if (f.isFile()) {
                    upload(remotePath + &quot;/&quot; + f.getName(), f);
                }
            }
        }
    }
}

/**
 * 下载ftp文件到本地上
 * @param ftpFileName ftp文件路径名称
 * @param localFile   本地文件路径名称
 */
public void download(String ftpFileName, File localFile) throws IOException {
    OutputStream out = null;
    try {
        FTPFile[] fileInfoArray = ftpClient.listFiles(ftpFileName);
        if (fileInfoArray == null || fileInfoArray.length == 0) {
            throw new FileNotFoundException(&quot;File &quot; + ftpFileName + &quot; was not found on FTP server.&quot;);
        }

        FTPFile fileInfo = fileInfoArray[0];
        if (fileInfo.getSize() &gt; Integer.MAX_VALUE) {
            throw new IOException(&quot;File &quot; + ftpFileName + &quot; is too large.&quot;);
        }

        out = new BufferedOutputStream(new FileOutputStream(localFile));
        if (!ftpClient.retrieveFile(ftpFileName, out)) {
            throw new IOException(
                    &quot;Error loading file &quot; + ftpFileName + &quot; from FTP server. Check FTP permissions and path.&quot;);
        }
        out.flush();
    } finally {
        closeStream(out);
    }
}

/**
 * 改变工作目录
 * @param dir ftp服务器上目录
 * @return boolean 改变成功返回true
 */
public boolean changeWorkingDirectory(String dir) {
    if (!ftpClient.isConnected()) {
        return false;
    }
    try {
        return ftpClient.changeWorkingDirectory(dir);
    } catch (IOException e) {
    }

    return false;
}

/**
 * 下载ftp服务器下文件夹到本地
 * @param remotePath ftp上文件夹路径名称
 * @param localPath  本地上传的文件夹路径名称
 */
public void downloadDir(String remotePath, String localPath) throws IOException {
    localPath = localPath.replace(&quot;\\\\&quot;, &quot;/&quot;);
    File file = new File(localPath);
    if (!file.exists()) {
        file.mkdirs();
    }
    FTPFile[] ftpFiles = ftpClient.listFiles(remotePath);
    for (int i = 0; ftpFiles != null &amp;&amp; i &lt; ftpFiles.length; i++) {
        FTPFile ftpFile = ftpFiles[i];
        if (ftpFile.isDirectory() &amp;&amp; !ftpFile.getName().equals(&quot;.&quot;) &amp;&amp; !ftpFile.getName().equals(&quot;..&quot;)) {
            downloadDir(remotePath + &quot;/&quot; + ftpFile.getName(), localPath + &quot;/&quot; + ftpFile.getName());
        } else {
            download(remotePath + &quot;/&quot; + ftpFile.getName(), new File(localPath + &quot;/&quot; + ftpFile.getName()));
        }
    }
}

/**
 * 列出ftp上文件目录下的文件
 * @param filePath ftp上文件目录
 */
public List&lt;String&gt; listFileNames(String filePath) throws IOException {
    FTPFile[] ftpFiles = ftpClient.listFiles(filePath);
    List&lt;String&gt; fileList = new ArrayList&lt;&gt;();
    if (ftpFiles != null) {
        for (int i = 0; i &lt; ftpFiles.length; i++) {
            FTPFile ftpFile = ftpFiles[i];
            if (ftpFile.isFile()) {
                fileList.add(ftpFile.getName());
            }
        }
    }

    return fileList;
}

/**
 * 发送ftp命令到ftp服务器中
 * @param args ftp命令
 */
public void sendSiteCommand(String args) throws IOException {
    if (!ftpClient.isConnected()) {
        ftpClient.sendSiteCommand(args);
    }
}

/**
 * 获取当前所处的工作目录
 */
public String printWorkingDirectory() {
    if (!ftpClient.isConnected()) {
        return &quot;&quot;;
    }

    try {
        return ftpClient.printWorkingDirectory();
    } catch (IOException e) {
        // do nothing
    }

    return &quot;&quot;;
}

/**
 * 切换到当前工作目录的父目录下
 */
public boolean changeToParentDirectory() {

    if (!ftpClient.isConnected()) {
        return false;
    }

    try {
        return ftpClient.changeToParentDirectory();
    } catch (IOException e) {
        // do nothing
    }

    return false;
}

/**
 * 返回当前工作目录的上一级目录
 */
public String printParentDirectory() {
    if (!ftpClient.isConnected()) {
        return &quot;&quot;;
    }

    String w = printWorkingDirectory();
    changeToParentDirectory();
    String p = printWorkingDirectory();
    changeWorkingDirectory(w);

    return p;
}

/**
 * 创建目录
 * @param pathname 路径名
 */
public boolean makeDirectory(String pathname) throws IOException {
    return ftpClient.makeDirectory(pathname);
}

/**
 * 创建多个目录
 */
public void makeDirs(String pathname) throws IOException {
    pathname = pathname.replace(&quot;\\\\&quot;, &quot;/&quot;);
    String[] pathnameArray = pathname.split(&quot;/&quot;);
    for (String each : pathnameArray) {
        if (StringUtils.isNotEmpty(each)) {
            ftpClient.makeDirectory(each);
            ftpClient.changeWorkingDirectory(each);
        }
    }
}

/**
 * 关闭流
 */
private static void closeStream(Closeable stream) {
    if (stream != null) {
        try {
            stream.close();
        } catch (IOException ex) {
            // do nothing
        }
    }
}

/**
 * 关闭ftp连接
 */
public void disconnect() {
    if (null != ftpClient &amp;&amp; ftpClient.isConnected()) {
        try {
            ftpClient.logout();
            ftpClient.disconnect();
        } catch (IOException ex) {
            // do nothing
        }
    }
}
public static void main(String[] arg) throws IOException {
        FtpCli ftpCli = FtpCli.createFtpCli(&quot;192.168.191.70&quot;, &quot;administrator&quot;, &quot;admin&quot;);
        ftpCli.connect();
        ftpCli.download(&quot;123/test.txt&quot;,new File(&quot;d:/test1.txt&quot;));
    }
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-09T16:00:00.000Z"><a href="/Blog/2018/12/10/jep/">2018-12-10</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/10/jep/">jep转换和计算数学表达式</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="引入maven依赖"><a href="#引入maven依赖" class="headerlink" title="引入maven依赖"></a>引入maven依赖</h3><pre><code>&lt;dependency&gt;
    &lt;groupId&gt;jep&lt;/groupId&gt;
    &lt;artifactId&gt;jep&lt;/artifactId&gt;
    &lt;version&gt;2.24&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>JEP jep = new JEP();
//设置公式
String expression = &quot;((a+b)*(c+b))/(c+a)/b&quot;;
//变量赋值
jep.addVariable(&quot;a&quot;,10);
jep.addVariable(&quot;b&quot;,10);
jep.addVariable(&quot;c&quot;,10);
//运算
jep.parseExpression(expression);
//结果
System.out.println(jep.getValue());
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-03T16:00:00.000Z"><a href="/Blog/2018/12/04/RestController/">2018-12-04</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/04/RestController/">RestController</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul>
<li>此注解继承自controller，增加的responsebody注解</li>
<li>集合的controller和responsebody的作用，直接返回数据，不走视图解析器</li>
</ul>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>@RestController
@RequestMapping(&quot;/RestController&quot;)
public class RestControllerTest {
    @RequestMapping(&quot;/getJsonObject&quot;)
    public JSONObject getJsonObject(){
        JSONObject jsonObject = new JSONObject();
        jsonObject.put(&quot;id&quot;,1);
        jsonObject.put(&quot;name&quot;,&quot;gekun&quot;);
        return jsonObject;
    }
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-01T16:00:00.000Z"><a href="/Blog/2018/12/02/线程池/">2018-12-02</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/02/线程池/">ThreadPool</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="手动创建线程池"><a href="#手动创建线程池" class="headerlink" title="手动创建线程池"></a>手动创建线程池</h2><h3 id="引入guava包，方便创建线程工厂类"><a href="#引入guava包，方便创建线程工厂类" class="headerlink" title="引入guava包，方便创建线程工厂类"></a>引入guava包，方便创建线程工厂类</h3><pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
    &lt;artifactId&gt;guava&lt;/artifactId&gt;
    &lt;version&gt;27.0.1-jre&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>public class ThreadPoolByHand {

    /**
     * 手动创建线程
     * 默认5条线程（即最小数量）
     * 最大20线程（指定了线程中的最大线程数量）
     * 空闲时间0秒
     * 等待队列长度1024
     * 线程名称，方便回溯
     * 拒绝策略，当队列任务已满，抛出RejectedExecutionException异常
     */
    private static ThreadPoolExecutor threadPool = new ThreadPoolExecutor(5, 20, 0L, TimeUnit.MILLISECONDS,
            new LinkedBlockingQueue&lt;Runnable&gt;(1024),new ThreadFactoryBuilder().setNameFormat(&quot;ByHand-%d&quot;).build(), new ThreadPoolExecutor.AbortPolicy());

    static class MyRunable implements Runnable{
        String name;

        public MyRunable(String name) {
            this.name = name;
        }
        @Override public void run() {
            System.out.println(&quot;正在执行：Thread ID：&quot; + Thread.currentThread().getId() + &quot;   Name=&quot; + name);
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
    public static void main(String[] arg) {
        for (int i = 0; i &lt; 500; i++) {
            MyRunable myRunable = new MyRunable(&quot;r&quot;+i);
            threadPool.execute(myRunable);
        }
        threadPool.shutdown();
    }
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-01T16:00:00.000Z"><a href="/Blog/2018/12/02/stream/">2018-12-02</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/12/02/stream/">Stream</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="流常用用法"><a href="#流常用用法" class="headerlink" title="流常用用法"></a>流常用用法</h2><h3 id="List-gt-Map-lt-Integer-Obj-gt"><a href="#List-gt-Map-lt-Integer-Obj-gt" class="headerlink" title="List =&gt; Map&lt;Integer,Obj&gt;"></a>List<obj> =&gt; Map&lt;Integer,Obj&gt;</obj></h3><pre><code>public static void listObjTomapIntergerObj(){
        List&lt;User&gt; users = Arrays.asList(new User(1, &quot;Tomcat&quot;), new User(2, &quot;Apache&quot;), new User(3, &quot;Nginx&quot;));
        //方法一
        Map&lt;Integer, User&gt; map = users.stream().collect(Collectors.toMap(obj -&gt; obj.getId() , obj -&gt; obj));
        //方法二maven-compiler-plugin
        //Map&lt;Integer, User&gt; map = users.stream().collect(Collectors.toMap(User::getId , obj -&gt; obj));
        System.out.println(map);
    }
</code></pre><h3 id="List-gt-List"><a href="#List-gt-List" class="headerlink" title="List  =&gt;  List"></a>List<map>  =&gt;  List<string></string></map></h3><pre><code>public static void listMapTolistString(){
    List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();
    Map&lt;String, String&gt; map1 = new HashMap&lt;&gt;();
    map1.put(&quot;id&quot;, &quot;101&quot;);
    map1.put(&quot;name&quot;, &quot;Tomcat&quot;);
    Map&lt;String, String&gt; map2 = new HashMap&lt;&gt;();
    map2.put(&quot;id&quot;, &quot;102&quot;);
    map2.put(&quot;name&quot;, &quot;Apache&quot;);
    Map&lt;String, String&gt; map3 = new HashMap&lt;&gt;();
    map3.put(&quot;id&quot;, &quot;103&quot;);
    map3.put(&quot;name&quot;, &quot;Nginx&quot;);
    list.add(map1);
    list.add(map2);
    list.add(map3);
    //方法一
    List&lt;String&gt; ids = list.stream().map(entity -&gt; entity.get(&quot;id&quot;)).collect(Collectors.toList());
    //方法二
    //List&lt;Object&gt; ids = Arrays.asList(list.stream().map(entity -&gt; entity.get(&quot;id&quot;)).toArray());
    System.out.println(ids);
}
</code></pre><h3 id="String-gt-Map"><a href="#String-gt-Map" class="headerlink" title="String  =&gt;  Map"></a>String  =&gt;  Map</h3><pre><code>public static void strTomap(){
    String str = &quot;type=1&amp;from=APP&amp;source=homePage&quot;;
    Map&lt;String, String&gt; map = Stream.of(str.split(&quot;&amp;&quot;)).map(obj -&gt; obj.split(&quot;=&quot;)).collect(Collectors.toMap(entry -&gt; entry[0], entry -&gt; entry[1]));
    System.out.println(map);
}
</code></pre><h3 id="List-gt-List-1"><a href="#List-gt-List-1" class="headerlink" title="List  =&gt;  List"></a>List<string>  =&gt;  List<integer></integer></string></h3><pre><code>public static void listStrTolistInteger(){
    List&lt;String&gt; strs = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;);
    List&lt;Integer&gt; ints = strs.stream().map(obj -&gt; Integer.valueOf(obj)).collect(Collectors.toList());
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-29T16:00:00.000Z"><a href="/Blog/2018/11/30/lombok/">2018-11-30</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/11/30/lombok/">lombok</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul>
<li>是一款Java开发插件</li>
<li>通过其定义的一些注解来消除业务工程中冗长和繁琐的代码，尤其对于简单的Java模型对象（POJO）</li>
<li>在代码编译的时候自动生成这些方法，并非在运行时生成。</li>
</ul>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul>
<li>Intellij中安装lombok插件</li>
<li>在项目中加入lombok依赖</li>
</ul>
<h3 id="使用规则"><a href="#使用规则" class="headerlink" title="使用规则"></a>使用规则</h3><h4 id="Getter-and-Setter"><a href="#Getter-and-Setter" class="headerlink" title="@Getter and @Setter"></a>@Getter and @Setter</h4><ul>
<li>注释在类或字段上，自动生成get和set方法<h4 id="ToString"><a href="#ToString" class="headerlink" title="@ToString"></a>@ToString</h4></li>
<li>生成toString()方法，默认情况下，它会按顺序（以逗号分隔）打印你的类名称以及每个字段。可以这样设置不包含哪些字段@ToString(exclude = “id”) <h4 id="NoArgsConstructor"><a href="#NoArgsConstructor" class="headerlink" title="@NoArgsConstructor"></a>@NoArgsConstructor</h4></li>
<li>@NoArgsConstructor生成一个无参构造器</li>
<li>可用@NoArgsConstructor(force = true)，然后就会为没有初始化的final字段设置默认值 0 / false / null。<h4 id="AllArgsConstructor"><a href="#AllArgsConstructor" class="headerlink" title="@AllArgsConstructor"></a>@AllArgsConstructor</h4></li>
<li>生成一个全参数的构造方法<h4 id="Data"><a href="#Data" class="headerlink" title="@Data"></a>@Data</h4></li>
<li>@Data 包含了 @ToString、@EqualsAndHashCode、@Getter / @Setter和@RequiredArgsConstructor的功能</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-29T16:00:00.000Z"><a href="/Blog/2018/11/30/常用工具/">2018-11-30</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/11/30/常用工具/">常用软件</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="系统工具"><a href="#系统工具" class="headerlink" title="系统工具"></a>系统工具</h2><p>Name|recommend<br>|:-:|:-:|<br>MyBase|个人文档管理<br>BaiduNetdisk|云<br>Rolan2|快速启动软件<br>CCleaner|快速垃圾清理<br>cports|电脑端口查看<br>Ditto|复制记录<br>everything|全文件系统搜索<br>FastStone|截图录屏<br>Snipaste|截图可固定<br>Huorong|系统杀毒检测<br>leanote|个人文档管理<br>sunny-ngrok|内外网穿透<br>PowerCHM|文件转换为chm<br>Registry Workshop|注册表管理<br>ShadowsocksR|翻墙<br>totalcommander|快速文件操作<br>Xmanager|X窗口系统<br>putty|x窗口系统<br>SumatraPDF|轻量级PDF工具<br>iSlide|ppt插件<br>GreenChrome|chrome增强软件<br>jsrun|js在线编辑，可代码存储分享<br>WinSCP|window下与远程计算机(linux)连接，文件传输<br>onTop|窗口置顶<br>winTop|窗口置顶<br>Mydm|多线程下载<br>jekyll+github|搭建个人博客<br>dropit|文件管理工具<br>mactype|window字体优化<br>rainmeter|电脑界面主题修改<br>fiddler|http协议调试工具</p>
<h2 id="Chrome插件"><a href="#Chrome插件" class="headerlink" title="Chrome插件"></a>Chrome插件</h2><p>Name|recommend<br>|:-:|:-:|<br>SwitchyOmega|代理管理<br>Clear Cache|清理缓存<br>LassPass|密码管理<br>Vysor|手机电脑同步<br>Adblock Plus|弹窗拦截<br>Infinity|标签页<br>Octotree|GITHUB左侧树形展示<br>Video DownloadHelper|浏览器视频下载</p>
<h2 id="idea插件"><a href="#idea插件" class="headerlink" title="idea插件"></a>idea插件</h2><p>Name | recommend<br>|:-:|:-:|<br>lombak|自动生成getset等代码</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-29T16:00:00.000Z"><a href="/Blog/2018/11/30/try-with-resources/">2018-11-30</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/11/30/try-with-resources/">try-with-resources</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="自动关闭资源"><a href="#自动关闭资源" class="headerlink" title="自动关闭资源"></a>自动关闭资源</h2><ul>
<li>Java 7增强了try语句的功能</li>
<li>允许在try关键字后跟一对圆括号，圆括号可以声明，初始化一个或多个资源，此处的资源指得是那些必须在程序结束时必须关闭的资源（比如数据库连接，网络连接等）</li>
<li>try语句在该语句结束时自动关闭这些资源</li>
<li>这些资源实现类必须实现Closeable或AutoCloseable接口，实现这些类就必须实现close方法。</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><pre><code>public class TryWithResource {
    public static void main(String[] args) throws IOException {
        try (
            // 声明、初始化两个可关闭的资源
            // try语句会自动关闭这两个资源。
            BufferedReader br = new BufferedReader(new FileReader(&quot;TryWithResource.java&quot;));
            PrintStream ps = new PrintStream(new FileOutputStream(&quot;a.txt&quot;))) {
            // 使用两个资源
            System.out.println(br.readLine());
            ps.println(&quot;输出资源&quot;);
        }
    }
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-29T16:00:00.000Z"><a href="/Blog/2018/11/30/SendEmail/">2018-11-30</a></time>
      
      
  
    <h1 class="title"><a href="/Blog/2018/11/30/SendEmail/">发送邮件</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="引入pom依赖"><a href="#引入pom依赖" class="headerlink" title="引入pom依赖"></a>引入pom依赖</h2><pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
    &lt;artifactId&gt;commons-email&lt;/artifactId&gt;
    &lt;version&gt;${commons-email.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id="发送流程"><a href="#发送流程" class="headerlink" title="发送流程"></a>发送流程</h2><ul>
<li>构建一个继承自javax.mail.Authenticator的具体类，并重写里面的getPasswordAuthentication()方法。用作登录校验，以确保你对该邮箱有发送邮件的权利。</li>
<li>构建一个properties文件，该文件中存放SMTP服务器地址等参数。</li>
<li>通过构建的properties文件和javax.mail.Authenticator具体类来创建一个javax.mail.Session。Session的创建，相当于登录邮箱一样。</li>
<li>构建邮件内容，一般是javax.mail.internet.MimeMessage对象，并指定发送人，收信人，主题，内容等等。</li>
<li>使用javax.mail.Transport工具类发送邮件。</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><pre><code>public class SendEmail {
    //发送邮箱的账号密码
    private static String userName=&quot;xxxxxxx@qq.com&quot;;//账号
    private static String password=&quot;xxxxxxxx&quot;;//16位STMP口令
    private static String nickName=&quot;CESHI&quot;;//昵称,可自定义
    private static String smtp=&quot;smtp.qq.com&quot;;//SMTP服务器地址
    //收件人邮箱的账号昵称
    private static String receiveUserName=&quot;xxx@xxxx&quot;;//账号
    private static String receiveNickName=&quot;AAAAA&quot;;//昵称,可自定义

    public static void main(String[] args) throws Exception {
        //1、构建一个继承自javax.mail.Authenticator的具体类
        //   并重写里面的getPasswordAuthentication()方法
        //   此类是用作登录校验的，以确保你对该邮箱有发送邮件的权利。
        Authenticator auth = new Authenticator() {
            @Override protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication(SendEmail.userName,SendEmail.password);
            }
        };
        //2、构建一个properties文件，该文件中存放SMTP服务器地址等参数。
        Properties properties = new Properties();
        // 使用的协议（JavaMail规范要求）
        properties.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);
        // 发件人的邮箱的 SMTP 服务器地址,不同的服务器地址不同
        properties.setProperty(&quot;mail.smtp.host&quot;, SendEmail.smtp);
        // 需要请求认证
        properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);
        // QQ邮箱端口587
        properties.setProperty(&quot;mail.smtp.port&quot;, &quot;587&quot;);
        //3、通过构建的properties文件和javax.mail.Authenticator具体类来创建一个javax.mail.Session
        //   Session的创建，就相当于登录邮箱。
        Session session = Session.getDefaultInstance(properties, auth);
        // 设置为debug模式, 可以查看详细的发送 log
        session.setDebug(true);
        //4、构建邮件内容，一般是javax.mail.internet.MimeMessage对象
        //   并指定发送人，收信人，主题，内容等等。
        MimeMessage mimeMessage = new MimeMessage(session);
        //发件人,昵称,编码
        mimeMessage.setFrom(new InternetAddress(SendEmail.userName,SendEmail.nickName, &quot;UTF-8&quot;));
        //收件人,昵称,编码
        //MimeMessage.RecipientType为发送方式
        mimeMessage.setRecipient(MimeMessage.RecipientType.TO, new InternetAddress(SendEmail.receiveUserName, SendEmail.receiveNickName, &quot;UTF-8&quot;));
        mimeMessage.setSubject(&quot;测试主题&quot;);
        mimeMessage.setText(&quot;测试内容&quot;);
        //5、使用javax.mail.Transport工具类发送邮件。
        Transport transport = session.getTransport();
        transport.connect(SendEmail.userName,SendEmail.password);
        transport.sendMessage(mimeMessage,mimeMessage.getAllRecipients());
    }
}
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
    <a href="/Blog/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:josephagk.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/Blog/categories/concurrent/">concurrent</a><small>1</small></li>
  
    <li><a href="/Blog/categories/idea/">idea</a><small>3</small></li>
  
    <li><a href="/Blog/categories/java-ee/">java ee</a><small>2</small></li>
  
    <li><a href="/Blog/categories/java-se/">java se</a><small>5</small></li>
  
    <li><a href="/Blog/categories/mysql/">mysql</a><small>2</small></li>
  
    <li><a href="/Blog/categories/springmvc/">springmvc</a><small>2</small></li>
  
    <li><a href="/Blog/categories/前端/">前端</a><small>3</small></li>
  
    <li><a href="/Blog/categories/加密/">加密</a><small>1</small></li>
  
    <li><a href="/Blog/categories/工具/">工具</a><small>1</small></li>
  
    <li><a href="/Blog/categories/日志/">日志</a><small>2</small></li>
  
  </ul>
</div>




  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/Blog/tags/Interceptor/">Interceptor</a><small>1</small></li>
  
    <li><a href="/Blog/tags/class/">class</a><small>5</small></li>
  
    <li><a href="/Blog/tags/email/">email</a><small>1</small></li>
  
    <li><a href="/Blog/tags/ftp/">ftp</a><small>1</small></li>
  
    <li><a href="/Blog/tags/hash/">hash</a><small>1</small></li>
  
    <li><a href="/Blog/tags/idea/">idea</a><small>2</small></li>
  
    <li><a href="/Blog/tags/logback/">logback</a><small>1</small></li>
  
    <li><a href="/Blog/tags/select2冲突/">select2冲突</a><small>1</small></li>
  
    <li><a href="/Blog/tags/software/">software</a><small>1</small></li>
  
    <li><a href="/Blog/tags/sql/">sql</a><small>2</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 JosephGK
  
</div>

<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/Blog/js/jquery.imagesloaded.min.js"></script>
<script src="/Blog/js/gallery.js"></script>




<link rel="stylesheet" href="/Blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/Blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
